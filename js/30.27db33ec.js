(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[30],{c444:function(t,s,n){"use strict";n.r(s);var e=function(){var t=this,s=t._self._c;return s("doc-page",{attrs:{"meta-title":t.metaTitle,title:"App Extension Uninstall API",nav:t.nav,toc:t.toc,"meta-desc":t.metaDesc}},[s("p",[t._v("This page refers to "),s("code",{staticClass:"doc-token"},[t._v("src/uninstall.js")]),t._v(" file which is executed when the App Extension is uninstalled. Not all App Extensions will need an uninstall – this is an optional step.")]),s("p",[t._v("Example of basic structure of the file:")]),s("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[s("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("exports")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("api")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// props and methods for "api" Object')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// are described below")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"api-extid"},on:{click:function(s){return t.copyHeading("api-extid")}}},[t._v("api.extId")]),s("p",[t._v("Contains the "),s("code",{staticClass:"doc-token"},[t._v("ext-id")]),t._v(" (String) of this App Extension.")]),s("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"api-prompts"},on:{click:function(s){return t.copyHeading("api-prompts")}}},[t._v("api.prompts")]),s("p",[t._v("Is an Object which has the answers to the prompts when this App Extension gets installed. For more info on prompts, check out "),s("doc-link",{attrs:{to:"/app-extensions/development-guide/prompts-api"}},[t._v("Prompts API")]),t._v(".")],1),s("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"api-resolve"},on:{click:function(s){return t.copyHeading("api-resolve")}}},[t._v("api.resolve")]),s("p",[t._v("Resolves paths within the app on which this App Extension is running. Eliminates the need to import "),s("code",{staticClass:"doc-token"},[t._v("path")]),t._v(" and resolve the paths yourself.")]),s("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[s("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// resolves to root of app")]),t._v("\napi"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resolve"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("app")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'src/my-file.js'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// resolves to root/src of app")]),t._v("\napi"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resolve"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'my-file.js'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// resolves to root/src-pwa of app")]),t._v("\napi"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resolve"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("pwa")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'some-file.js'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// resolves to root/src-ssr of app")]),t._v("\napi"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resolve"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ssr")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'some-file.js'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// resolves to root/src-cordova of app")]),t._v("\napi"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resolve"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cordova")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'config.xml'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// resolves to root/src-electron of app")]),t._v("\napi"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resolve"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("electron")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'some-file.js'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"api-appdir"},on:{click:function(s){return t.copyHeading("api-appdir")}}},[t._v("api.appDir")]),s("p",[t._v("Contains the full path (String) to the root of the app on which this App Extension is running.")]),s("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"api-hasextension"},on:{click:function(s){return t.copyHeading("api-hasextension")}}},[t._v("api.hasExtension")]),s("p",[t._v("Check if another app extension is installed.")]),s("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[s("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * Check if another app extension is installed\n *\n * @param {string} extId\n * @return {boolean} has the extension installed.\n */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("api"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasExtension")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("extId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// hey, we have it")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"api-removepath"},on:{click:function(s){return t.copyHeading("api-removepath")}}},[t._v("api.removePath")]),s("p",[t._v("Removes a file or folder from the app project folder (which the App Extension has installed and is no longer needed).")]),s("p",[t._v("Be mindful about it and do not delete the files that would break developer’s app.")]),s("p",[t._v("The path to file or folder needs to be relative to project’s root folder.")]),s("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[s("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n  * @param {string} __path\n  */")]),t._v("\napi"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("removePath")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'my-folder'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("p",[t._v("The above example deletes “my-folder” from the root of the app.")]),s("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"api-getpersistentconf"},on:{click:function(s){return t.copyHeading("api-getpersistentconf")}}},[t._v("api.getPersistentConf")]),s("p",[t._v("Get the internal persistent config of this extension. Returns empty object if it has none.")]),s("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[s("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * @return {object} cfg\n */")]),t._v("\napi"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPersistentConf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"api-onexitlog"},on:{click:function(s){return t.copyHeading("api-onexitlog")}}},[t._v("api.onExitLog")]),s("p",[t._v("Adds a message to be printed after App CLI finishes up uninstalling the App Extension and is about to exit. Can be called multiple times to register multiple exit logs.")]),s("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[s("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * @param {string} msg\n */")]),t._v("\napi"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("onExitLog")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Thanks for having used my extension'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},a=[],o=n("8669"),p={name:"DocMarkdownPage",created:function(){this.metaTitle="App Extension Uninstall API",this.metaDesc="The API for the uninstall script of a Quasar App Extension.",this.nav=[{name:"Index API",category:"Development Guide",path:"/app-extensions/development-guide/index-api",dir:"left"},{name:"Introduction",category:"Tips and Tricks",path:"/app-extensions/tips-and-tricks/introduction",dir:"right"}],this.toc=[{id:"api-extid",title:"api.extId"},{id:"api-prompts",title:"api.prompts"},{id:"api-resolve",title:"api.resolve"},{id:"api-appdir",title:"api.appDir"},{id:"api-hasextension",title:"api.hasExtension"},{id:"api-removepath",title:"api.removePath"},{id:"api-getpersistentconf",title:"api.getPersistentConf"},{id:"api-onexitlog",title:"api.onExitLog"}],this.copyHeading=o["a"]}},r=p,i=n("2877"),c=Object(i["a"])(r,e,a,!1,null,null,null);s["default"]=c.exports}}]);