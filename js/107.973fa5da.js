(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[107],{"73f2":function(t,a,n){"use strict";n.r(a);var s=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("doc-page",{attrs:{title:"Managing Google Analytics",nav:t.nav}},[n("p",[t._v("Getting to know your users and measuring user behavior is an important step in App Development. Unfortunately, it takes a bit of non-standard work to get Google Analytics to work after wrapping your mobile app with Cordova. Setting up Google Analytics in a pure web application is quite easy, but Cordova somehow prevents pageviews and events from being sent to Google Analytics.")]),n("p",[t._v("Follow this guide to implement Google Analytics into your Cordova powered Quasar App.")]),n("p",[t._v("You may also want to read these great tutorials:")]),n("ul",[n("li",[n("doc-link",{attrs:{to:"https://jannerantala.com/tutorials/quasar-framework-google-tag-manager-and-analytics-setup-for-an-spa-website/"}},[t._v("Google Tag Manager and Analytics Setup for an SPA Website")])],1),n("li",[n("doc-link",{attrs:{to:"https://jannerantala.com/tutorials/quasar-framework-google-analytics-setup-for-cordova-app/"}},[t._v("Google Analytics Setup for a Cordova App")])],1)]),n("div",{staticClass:"doc-note doc-note--warning"},[n("p",{staticClass:"doc-note__title"},[t._v("WARNING")]),n("p",[t._v("You’ll need to include a "),n("code",{staticClass:"doc-token"},[t._v("<script>")]),t._v(" tag provided by Google in "),n("code",{staticClass:"doc-token"},[t._v("/src/index.template.html")]),t._v(", which will make your App depend on an Internet connection!")])]),n("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"Prerequisites"},on:{click:function(a){return t.copyHeading("Prerequisites")}}},[t._v("Prerequisites")]),n("ul",[n("li",[t._v("Make sure all your routes have a name and path parameter specified. Otherwise, they cannot be posted to the "),n("code",{staticClass:"doc-token"},[t._v("ga.logPage")]),t._v(" function. Please refer to "),n("doc-link",{attrs:{to:"/quasar-cli/routing"}},[t._v("Routing")]),t._v(" for more info on routing.")],1),n("li",[t._v("Have Basic knowledge of Google Analytics")])]),n("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"Preparation"},on:{click:function(a){return t.copyHeading("Preparation")}}},[t._v("Preparation")]),n("p",[t._v("Before we can start implementing Google Analytics into your application, you’ll need an account for "),n("doc-link",{attrs:{to:"https://analytics.google.com"}},[t._v("Google Analytics")]),t._v(" and "),n("doc-link",{attrs:{to:"https://tagmanager.google.com/"}},[t._v("Google Tagmanager")]),t._v(". So let’s do that first. When you have these accounts, it’s time to configure Tag manager. Follow the steps in this "),n("doc-link",{attrs:{to:"https://www.multiminds.eu/blog/2016/12/google-analytics-and-tag-manager-with-ionic-and-cordova-apps/"}},[t._v("Multiminds article")]),t._v(" to do so.")],1),n("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"Implementing-this-into-application"},on:{click:function(a){return t.copyHeading("Implementing-this-into-application")}}},[t._v("Implementing this into application")]),n("blockquote",{staticClass:"doc-note"},[n("p",[t._v("For this guide, we’ll assume you have a fixed sessionId that you send to Google Analytics. Google Analytics uses a sessionId to distinguish different users from each other. If you want to create an anonymous sessionId, see "),n("doc-link",{attrs:{to:"https://developers.google.com/analytics/devguides/collection/analyticsjs/cookies-user-id"}},[t._v("Analytics Documentation on user id")]),t._v(".")],1)]),n("p",[t._v("Place the Tag Manager snippet into head of your "),n("code",{staticClass:"doc-token"},[t._v("index.html")]),t._v(" file (if you’ve followed the "),n("doc-link",{attrs:{to:"http://www.multiminds.eu/2016/12/06/google-analytics-tag-manager-ionic-cordova/"}},[t._v("Multiminds article")]),t._v(", you already have this.) Create a new file in your codebase called "),n("code",{staticClass:"doc-token"},[t._v("analytics.js")]),t._v(" with the following contents:")],1),n("pre",{pre:!0,attrs:{class:"doc-code language-javascript"}},[n("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-javascript"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("logEvent")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("category"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" action"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" label"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sessionId "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dataLayer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      appEventCategory"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" category"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      appEventAction"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" action"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      appEventLabel"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" label"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      sessionId"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" sessionId\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dataLayer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'event'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'appEvent'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("logPage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sessionId "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dataLayer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      screenPath"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      screenName"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      sessionId"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" sessionId\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dataLayer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'event'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'appScreenView'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),n("p",[t._v("To make sure all the pages in your application are automatically posted to Google Analytics, we create an app boot file:")]),n("pre",{pre:!0,attrs:{class:"doc-code language-bash"}},[n("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-bash"}},[t._v("$ quasar new boot google-analytics\n")])]),n("p",[t._v("Then we edit the newly created file: "),n("code",{staticClass:"doc-token"},[t._v("/src/boot/google-analytics.js")]),t._v(":")]),n("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[n("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" ga "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'analytics.js'")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" router "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  router"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("afterEach")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("to"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    ga"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("logPage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("to"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" to"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sessionId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),n("p",[t._v("Finally we register the app boot file in "),n("code",{staticClass:"doc-token"},[t._v("/quasar.conf.js")]),t._v(". We can do so only for Cordova wrapped apps if we want:")]),n("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[n("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[t._v("boot"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cordova "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'google-analytics'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),n("p",[t._v("More information about events can be found in the "),n("doc-link",{attrs:{to:"https://developers.google.com/analytics/devguides/collection/analyticsjs/events"}},[t._v("Analytics documentation on events")]),t._v(".")],1),n("p",[t._v("You’ll see the events and pageviews coming in when you run your app. It usually takes around 5 to 10 seconds for a pageview to be registered in the realtime view.")])])},e=[],o=n("8669"),r="Managing Google Analytics | Quasar Framework",p="How to use analytics in a Quasar hybrid mobile app with Cordova.",c={meta:{title:"Managing Google Analytics",meta:{title:{name:"title",content:r},ogTitle:{name:"og:title",content:r},twitterTitle:{name:"twitter:title",content:r},description:{name:"description",content:p},ogDesc:{name:"og:description",content:p},twitterDesc:{name:"twitter:description",content:p}}},created:function(){this.$root.store.toc=[{id:"Prerequisites",title:"Prerequisites"},{id:"Preparation",title:"Preparation"},{id:"Implementing-this-into-application",title:"Implementing this into application"}],this.nav=[{name:"Troubleshooting and Tips",category:"Developing Cordova Apps",path:"/quasar-cli/developing-cordova-apps/troubleshooting-and-tips",dir:"left"},{name:"Publishing to Store",category:"Developing Cordova Apps",path:"/quasar-cli/developing-cordova-apps/publishing-to-store",dir:"right"}]},methods:{copyHeading:o["a"]}},i=c,l=n("2877"),v=Object(l["a"])(i,s,e,!1,null,null,null);a["default"]=v.exports}}]);