(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[27],{"2e01":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t._self._c;return e("doc-page",{attrs:{"meta-title":t.metaTitle,title:"App Extension Install API",nav:t.nav,toc:t.toc,"meta-desc":t.metaDesc}},[e("p",[t._v("This page refers to "),e("code",{staticClass:"doc-token"},[t._v("src/install.js")]),t._v(" file which is executed on the installation of the App Extension only. Not all App Extensions will need an install – this is an optional step.")]),e("p",[t._v("Example of basic structure of the file:")]),e("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[e("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[t._v("module"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("exports")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("api")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// props and methods for "api" Object')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// are described below")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),e("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"api-extid"},on:{click:function(e){return t.copyHeading("api-extid")}}},[t._v("api.extId")]),e("p",[t._v("Contains the "),e("code",{staticClass:"doc-token"},[t._v("ext-id")]),t._v(" (String) of this App Extension.")]),e("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"api-prompts"},on:{click:function(e){return t.copyHeading("api-prompts")}}},[t._v("api.prompts")]),e("p",[t._v("Is an Object which has the answers to the prompts when this App Extension gets installed. For more info on prompts, check out "),e("doc-link",{attrs:{to:"/app-extensions/development-guide/prompts-api"}},[t._v("Prompts API")]),t._v(".")],1),e("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"api-resolve"},on:{click:function(e){return t.copyHeading("api-resolve")}}},[t._v("api.resolve")]),e("p",[t._v("Resolves paths within the app on which this App Extension is running. Eliminates the need to import "),e("code",{staticClass:"doc-token"},[t._v("path")]),t._v(" and resolve the paths yourself.")]),e("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[e("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// resolves to root of app")]),t._v("\napi"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resolve"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("app")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'src/my-file.js'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// resolves to root/src of app")]),t._v("\napi"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resolve"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("src")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'my-file.js'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// resolves to root/src-pwa of app")]),t._v("\napi"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resolve"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("pwa")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'some-file.js'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// resolves to root/src-ssr of app")]),t._v("\napi"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resolve"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("ssr")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'some-file.js'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// resolves to root/src-cordova of app")]),t._v("\napi"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resolve"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("cordova")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'config.xml'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// resolves to root/src-electron of app")]),t._v("\napi"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resolve"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("electron")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'some-file.js'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),e("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"api-appdir"},on:{click:function(e){return t.copyHeading("api-appdir")}}},[t._v("api.appDir")]),e("p",[t._v("Contains the full path (String) to the root of the app on which this App Extension is running.")]),e("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"api-compatiblewith"},on:{click:function(e){return t.copyHeading("api-compatiblewith")}}},[t._v("api.compatibleWith")]),e("p",[t._v("Ensure the App Extension is compatible with a package installed in the host app through a semver condition.")]),e("p",[t._v("If the semver condition is not met, then @quasar/app errors out and halts execution.")]),e("p",[t._v("Example of semver condition: "),e("code",{staticClass:"doc-token"},[t._v("'1.x || >=2.5.0 || 5.0.0 - 7.2.3'")]),t._v(".")]),e("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[e("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * @param {string} packageName\n * @param {string} semverCondition\n */")]),t._v("\napi"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("compatibleWith")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@quasar/app'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1.x'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),e("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"api-haspackage"},on:{click:function(e){return t.copyHeading("api-haspackage")}}},[t._v("api.hasPackage")]),e("p",[t._v("Determine if some package is installed in the host app through a semver condition.")]),e("p",[t._v("Example of semver condition: "),e("code",{staticClass:"doc-token"},[t._v("'1.x || >=2.5.0 || 5.0.0 - 7.2.3'")]),t._v(".")]),e("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[e("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * @param {string} packageName\n * @param {string} (optional) semverCondition\n * @return {boolean} package is installed and meets optional semver condition\n */")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("api"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasPackage")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vuelidate'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// hey, this app has it (any version of it)")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("api"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasPackage")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'quasar'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'^1.0.0'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// hey, this app has v1 installed")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),e("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"api-hasextension"},on:{click:function(e){return t.copyHeading("api-hasextension")}}},[t._v("api.hasExtension")]),e("p",[t._v("Check if another app extension is npm installed and Quasar CLI has invoked it.")]),e("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[e("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * Check if another app extension is installed\n *\n * @param {string} extId\n * @return {boolean} has the extension installed & invoked\n */")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("api"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasExtension")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("extId"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// hey, we have it")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),e("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"api-getpackageversion"},on:{click:function(e){return t.copyHeading("api-getpackageversion")}}},[t._v("api.getPackageVersion")]),e("p",[t._v("Get the version of a host app package.")]),e("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[e("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * @param {string} packageName\n * @return {string|undefined} version of app's package\n */")]),t._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" api"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPackageVersion")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("packageName"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// output examples:")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   1.1.3")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   undefined (when package not found)")]),t._v("\n")])]),e("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"api-extendpackagejson"},on:{click:function(e){return t.copyHeading("api-extendpackagejson")}}},[t._v("api.extendPackageJson")]),e("p",[t._v("Helper method to extend package.json with new props. If specifying existing props, "),e("strong",[t._v("it will override")]),t._v(" them.")]),e("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[e("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * @param {object|string} extPkg - Object to extend with or relative path to a JSON file\n */")]),t._v("\napi"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("extendPackageJson")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("scripts")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'electron'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'quasar dev -m electron'")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),e("p",[t._v("The above example adds an npm script to the app’s package.json, so you can then execute "),e("code",{staticClass:"doc-token"},[t._v("yarn electron")]),t._v(" (or the equivalent "),e("code",{staticClass:"doc-token"},[t._v("npm run electron")]),t._v(").")]),e("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"api-extendjsonfile"},on:{click:function(e){return t.copyHeading("api-extendjsonfile")}}},[t._v("api.extendJsonFile")]),e("p",[t._v("Extend a JSON file with new props (deep merge). If specifying existing props, it will override them.")]),e("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[e("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * @param {string} file (relative path to app root folder)\n * @param {object} newData (Object to merge in)\n */")]),t._v("\napi"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("extendJsonFile")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'src/some.json'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("newProp")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'some-value'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),e("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"api-render"},on:{click:function(e){return t.copyHeading("api-render")}}},[t._v("api.render")]),e("p",[t._v("Renders (copies) a folder from your App Extension templates (any folder you specify) into root of the app. Maintains the same folder structure that the template folder has.")]),e("p",[t._v("If some of the files already exist in the app then it will ask the user if they should be overwritten or not.")]),e("p",[t._v("Needs a relative path to the folder of the file calling render().")]),e("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[e("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * Render a folder from extension templates into devland\n * Needs a path (to a folder) relative to the path of the file where render() is called\n *\n * @param {string} templatePath (relative path to folder to render in app)\n * @param {object} scope (optional; rendering scope variables)\n */")]),t._v("\napi"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./path/to/a/template/folder'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),e("h3",{staticClass:"doc-heading doc-h3",attrs:{id:"filename-edge-cases"},on:{click:function(e){return t.copyHeading("filename-edge-cases")}}},[t._v("Filename edge cases")]),e("p",[t._v("If you want to render a template file that either begins with a dot (i.e. .env) you will have to follow a specific naming convention, since dotfiles are ignored when publishing your plugin to npm:")]),e("pre",{pre:!0,attrs:{class:"doc-code language-bash"}},[e("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-bash"}},[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# templates containing dotfiles must use an")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# underscore instead of the dot in their names:")]),t._v("\n\nsome-folder/_env\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# When calling api.render('./some-folder'), this will be")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# rendered in the project folder as:")]),t._v("\n\n/.env\n")])]),e("p",[t._v("If you want to render a file whose name actually begins with an underscore, then the filename must begin with "),e("code",{staticClass:"doc-token"},[t._v("__")]),t._v(" (two underscore characters instead of only one):")]),e("pre",{pre:!0,attrs:{class:"doc-code language-bash"}},[e("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-bash"}},[t._v("some-folder/__my.css\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# When calling api.render('./template'), this will be")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# rendered in the project folder as:")]),t._v("\n\n/_my.css\n")])]),e("h3",{staticClass:"doc-heading doc-h3",attrs:{id:"using-scope"},on:{click:function(e){return t.copyHeading("using-scope")}}},[t._v("Using scope")]),e("p",[t._v("You can also inject some decision-making code into the files to be rendered by interpolating with "),e("doc-link",{attrs:{to:"https://www.npmjs.com/package/lodash.template"}},[t._v("lodash.template")]),t._v(" syntax.")],1),e("p",[t._v("Example:")]),e("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[e("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// src/install.js")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// (my-folder is located in same folder as")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// the file in which following call takes place)")]),t._v("\napi"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./my-folder'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("prompts")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" api"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prompts\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),e("p",[t._v("Let’s imagine we use a "),e("doc-link",{attrs:{to:"/app-extensions/development-guide/prompts-api"}},[t._v("Prompts API")]),t._v(" file too. It asks the user if he/she wants “Feature X” and stores the answer in a variable called “featureX”.")],1),e("p",[t._v("We can take some decisions on what the files that we render look like, during rendering them. This removes the need of creating two folders and deciding which to render, based on some decision.")]),e("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[e("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// src/my-folder/some-file.js")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("prompts"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("featureX"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" message "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'This is content when \"Feature X\" exists'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" message "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'This is content when we don\\'t have \"Feature X\"'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),e("p",[t._v("Possibilities are limited only by your imagination.")]),e("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"api-renderfile"},on:{click:function(e){return t.copyHeading("api-renderfile")}}},[t._v("api.renderFile "),e("q-badge",{attrs:{align:"top",color:"brand-primary",label:"@quasar/app v2+"}})],1),e("p",[t._v("Similar with api.render() with the difference that this method renders a single file.")]),e("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[e("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * Render a file from extension template into devland\n * Needs a path (to a file) relative to the path of the file where renderFile() is called\n *\n * @param {string} relativeSourcePath (file path relative to the folder from which the install script is called)\n * @param {string} relativeTargetPath (file path relative to the root of the app -- including filename!)\n * @param {object} scope (optional; rendering scope variables)\n */")]),t._v("\napi"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("renderFile")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./path/to/a/template/filename'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'path/relative/to/app/root/filename'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("prompts")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" api"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prompts\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\napi"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("renderFile")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./my-file.json'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'src/my-file.json'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),e("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"api-getpersistentconf"},on:{click:function(e){return t.copyHeading("api-getpersistentconf")}}},[t._v("api.getPersistentConf")]),e("p",[t._v("Get the internal persistent config of this extension. Returns empty object if it has none.")]),e("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[e("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * @return {object} cfg\n */")]),t._v("\napi"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPersistentConf")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),e("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"api-setpersistentconf"},on:{click:function(e){return t.copyHeading("api-setpersistentconf")}}},[t._v("api.setPersistentConf")]),e("p",[t._v("Set the internal persistent config of this extension. If it already exists, it is overwritten.")]),e("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[e("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * @param {object} cfg\n */")]),t._v("\napi"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setPersistentConf")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ....")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),e("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"api-mergepersistentconf"},on:{click:function(e){return t.copyHeading("api-mergepersistentconf")}}},[t._v("api.mergePersistentConf")]),e("p",[t._v("Deep merge into the internal persistent config of this extension. If extension does not have any config already set, this is essentially equivalent to setting it for the first time.")]),e("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[e("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * @param {object} cfg\n */")]),t._v("\napi"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mergePersistentConf")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ....")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),e("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"api-onexitlog"},on:{click:function(e){return t.copyHeading("api-onexitlog")}}},[t._v("api.onExitLog")]),e("p",[t._v("Adds a message to be printed after App CLI finishes up installing the App Extension and is about to exit. Can be called multiple times to register multiple exit logs.")]),e("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[e("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * @param {string} msg\n */")]),t._v("\napi"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("onExitLog")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Thanks for installing my awesome extension'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},a=[],r=n("8669"),o={name:"DocMarkdownPage",created:function(){this.metaTitle="App Extension Install API",this.metaDesc="The API for the install script of a Quasar App Extension. Initializes the app space by rendering or changing files and more.",this.nav=[{name:"Prompts API",category:"Development Guide",path:"/app-extensions/development-guide/prompts-api",dir:"left"},{name:"Index API",category:"Development Guide",path:"/app-extensions/development-guide/index-api",dir:"right"}],this.toc=[{id:"api-extid",title:"api.extId"},{id:"api-prompts",title:"api.prompts"},{id:"api-resolve",title:"api.resolve"},{id:"api-appdir",title:"api.appDir"},{id:"api-compatiblewith",title:"api.compatibleWith"},{id:"api-haspackage",title:"api.hasPackage"},{id:"api-hasextension",title:"api.hasExtension"},{id:"api-getpackageversion",title:"api.getPackageVersion"},{id:"api-extendpackagejson",title:"api.extendPackageJson"},{id:"api-extendjsonfile",title:"api.extendJsonFile"},{id:"api-render",title:"api.render"},{id:"filename-edge-cases",title:"Filename edge cases",sub:!0},{id:"using-scope",title:"Using scope",sub:!0},{id:"api-renderfile",title:"api.renderFile"},{id:"api-getpersistentconf",title:"api.getPersistentConf"},{id:"api-setpersistentconf",title:"api.setPersistentConf"},{id:"api-mergepersistentconf",title:"api.mergePersistentConf"},{id:"api-onexitlog",title:"api.onExitLog"}],this.copyHeading=r["a"]}},p=o,i=n("2877"),c=Object(i["a"])(p,s,a,!1,null,null,null);e["default"]=c.exports}}]);