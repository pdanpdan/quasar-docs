(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[136],{de2f:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t._self._c;return s("doc-page",{attrs:{"meta-title":t.metaTitle,title:"Deploying a SPA",nav:t.nav,toc:t.toc,"meta-desc":t.metaDesc}},[s("p",[t._v("There exist many services that allow deploying applications with ease.\nTo list all of them would not be possible so we will focus on the general deployment process and some specifics for common services.")]),s("p",[t._v("If your favorite deployment tool is missing feel free to create a pull request on GitHub to add it to the list.")]),s("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"general-deployment"},on:{click:function(s){return t.copyHeading("general-deployment")}}},[t._v("General deployment")]),s("p",[t._v("The first step in deploying your Quasar SPA is always to build a production-ready bundle of your files, which gets rid of development statements and minifies your source.")]),s("p",[t._v("To produce such a build use Quasar CLI with the following command")]),s("pre",{pre:!0,attrs:{class:"doc-code language-bash"}},[s("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-bash"}},[t._v("$ quasar build\n")])]),s("p",[t._v("This command will build your project in SPA mode and output your production ready bundle to a newly created folder "),s("code",{staticClass:"doc-token"},[t._v("/dist/spa")]),t._v(".")]),s("p",[t._v("To serve your production files it is "),s("em",[t._v("required")]),t._v(" to use a web server, so to serve over http(s):// protocol. Simply opening the "),s("code",{staticClass:"doc-token"},[t._v("index.html")]),t._v(" file from within your browser will not work, since this uses the file:// protocol instead.")]),s("p",[t._v("Common choices for web servers are "),s("doc-link",{attrs:{to:"https://www.nginx.com/"}},[t._v("nginx")]),t._v(", "),s("doc-link",{attrs:{to:"https://caddyserver.com/"}},[t._v("Caddy")]),t._v(", "),s("doc-link",{attrs:{to:"https://httpd.apache.org/"}},[t._v("Apache")]),t._v(", "),s("doc-link",{attrs:{to:"https://expressjs.com/"}},[t._v("Express")]),t._v("; but you should be able to use whatever web server you want.")],1),s("p",[t._v("The web server requires no special setup (unless you built with Vue Router in “history” mode in "),s("code",{staticClass:"doc-token"},[t._v("quasar.conf.js")]),t._v("). The main requirement is to be able to serve static files from a directory, so consult the documentation of your web server on how to set up static file serving.")]),s("p",[t._v("An example config for nginx may look like this:")]),s("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[s("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[t._v("server "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    listen "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v(" http2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    server_name quasar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("myapp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    root "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("home"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("user"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("quasar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("myapp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    add_header "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("X")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Frame"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Options "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SAMEORIGIN"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    add_header "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("X")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("XSS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Protection "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1; mode=block"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    add_header "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("X")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Content"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Options "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"nosniff"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    index index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    charset utf"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    location "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        try_files $uri $uri"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    location "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("robots"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" access_log off"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" log_not_found off"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    access_log off"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    error_log  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("log"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("quasar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("myapp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("log error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    location "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\\"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("well"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("known"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        deny all"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"important-hosting-configuration"},on:{click:function(s){return t.copyHeading("important-hosting-configuration")}}},[t._v("Important Hosting Configuration")]),s("p",[t._v("It’s important that you do not allow browsers to cache the "),s("code",{staticClass:"doc-token"},[t._v("index.html")]),t._v(" file. Because otherwise updates to this file or to your app might slip through the cracks for browsers that load the index.html from cache.")]),s("p",[t._v("This is why you must always make sure to add "),s("code",{staticClass:"doc-token"},[t._v('"Cache-Control": "no-cache"')]),t._v(" to the headers of the "),s("code",{staticClass:"doc-token"},[t._v("index.html")]),t._v(" file via your hosting service.")]),s("p",[t._v("As an example how this is done for Google Firebase, you would add the following to the "),s("code",{staticClass:"doc-token"},[t._v("firebase.json")]),t._v(" configuration:")]),s("pre",{pre:!0,attrs:{class:"doc-code language-json"}},[s("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-json"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hosting"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"headers"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"source"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/**"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"headers"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"key"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Cache-Control"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"value"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"no-cache, no-store, must-revalidate"')]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"source"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"**/*.@(jpg|jpeg|gif|png|svg|webp|js|css|eot|otf|ttf|ttc|woff|woff2|font.css)"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"headers"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"key"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Cache-Control"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"value"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max-age=604800"')]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"deploying-with-vercel"},on:{click:function(s){return t.copyHeading("deploying-with-vercel")}}},[t._v("Deploying with Vercel")]),s("p",[t._v("Deploying your Quasar application with "),s("doc-link",{attrs:{to:"https://vercel.com/"}},[t._v("Vercel")]),t._v(" is really easy.\nAll you have to do is to download the "),s("doc-link",{attrs:{to:"https://vercel.com/download#now-cli"}},[t._v("vercel-cli")]),t._v(" and log in by running:")],1),s("pre",{pre:!0,attrs:{class:"doc-code language-bash"}},[s("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-bash"}},[t._v("$ vercel login\n")])]),s("p",[t._v("Then proceed to build your Quasar application using the steps described in “General deployment” section.")]),s("p",[t._v("After the build is finished, change directory into your deploy root (example: "),s("code",{staticClass:"doc-token"},[t._v("/dist/spa")]),t._v(") and run:")]),s("pre",{pre:!0,attrs:{class:"doc-code language-bash"}},[s("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-bash"}},[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# from /dist/spa (or your distDir)")]),t._v("\n$ vercel\n")])]),s("p",[t._v("The Vercel CLI should now display information regarding your deployment, like the URL. That’s it. You’re done.")]),s("h3",{staticClass:"doc-heading doc-h3",attrs:{id:"vercel-configuration-tips"},on:{click:function(s){return t.copyHeading("vercel-configuration-tips")}}},[t._v("Vercel configuration tips")]),s("p",[t._v("You should consider adding some additional configurations to your project.")]),s("ul",[s("li",[t._v("Since Vercel expects the "),s("em",[t._v("build")]),t._v(" script to be defined, you may add in "),s("code",{staticClass:"doc-token"},[t._v("package.json")]),t._v(" the following scripts:")])]),s("pre",{pre:!0,attrs:{class:"doc-code language-json"}},[s("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-json"}},[t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    ..\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      ...\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"quasar build"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"deploy"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vercel"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("ul",[s("li",[t._v("Since Vercel expects the build results to be in "),s("code",{staticClass:"doc-token"},[t._v("/public")]),t._v(" directory, and "),s("em",[t._v("Quasar")]),t._v(" has it in "),s("code",{staticClass:"doc-token"},[t._v("/dist/spa")]),t._v(" by default,\nconsider updating "),s("code",{staticClass:"doc-token"},[t._v("quasar.conf.js")]),t._v(" accordingly:")])]),s("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[s("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("exports")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ctx")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("build")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("distDir")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("spa "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'public'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("ul",[s("li",[t._v("In order to support SPA routing in the deployed app, consider adding "),s("code",{staticClass:"doc-token"},[t._v("vercel.json")]),t._v(" file in your root folder:")])]),s("pre",{pre:!0,attrs:{class:"doc-code language-json"}},[s("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-json"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"routes"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"handle"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"filesystem"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"src"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/.*"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dest"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/index.html"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"deploying-with-heroku"},on:{click:function(s){return t.copyHeading("deploying-with-heroku")}}},[t._v("Deploying with Heroku")]),s("p",[t._v("Unfortunately, Heroku does not support static sites out of the box. But don’t worry, we just need to add an HTTP server to our project so Heroku can serve our Quasar application.")]),s("p",[t._v("In this example, we will use "),s("doc-link",{attrs:{to:"https://expressjs.com/"}},[t._v("Express")]),t._v(" to create a minimal server which Heroku can use.")],1),s("p",[t._v("First, we need to install the required dependencies to our project:")]),s("pre",{pre:!0,attrs:{class:"doc-code language-bash"}},[s("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-bash"}},[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" express serve-static connect-history-api-fallback\n")])]),s("p",[t._v("Now that we have installed the required dependencies, we can add our server. Create a file called "),s("code",{staticClass:"doc-token"},[t._v("server.js")]),t._v(" in the root directory of your project.")]),s("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[s("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v("\n  express "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'express'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  serveStatic "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'serve-static'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  history "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'connect-history-api-fallback'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  port "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" process"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PORT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5000")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("express")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// attackers can use this header to detect apps running Express")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// and then launch specifically-targeted attacks")]),t._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("disable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'x-powered-by'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("history")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("serveStatic")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/dist/spa'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("port"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("p",[t._v("Heroku assumes a set of npm scripts to be available, so we have to alter our "),s("code",{staticClass:"doc-token"},[t._v("package.json")]),t._v(" and add the following under the "),s("code",{staticClass:"doc-token"},[t._v("script")]),t._v(" section:")]),s("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[s("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"build"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"quasar build"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"start"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node server.js"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"heroku-postbuild"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"yarn && yarn build"')]),t._v("\n")])]),s("p",[t._v("Now it is time to create an app on Heroku by running:")]),s("pre",{pre:!0,attrs:{class:"doc-code language-bash"}},[s("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-bash"}},[t._v("$ heroku create\n")])]),s("p",[t._v("and deploy to Heroku using:")]),s("pre",{pre:!0,attrs:{class:"doc-code language-bash"}},[s("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-bash"}},[t._v("$ heroku deploy\n")])]),s("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"deploying-with-surge"},on:{click:function(s){return t.copyHeading("deploying-with-surge")}}},[t._v("Deploying with Surge")]),s("p",[s("doc-link",{attrs:{to:"https://surge.sh/"}},[t._v("Surge")]),t._v(" is a popular tool to host and deploy static sites.")],1),s("p",[t._v("If you want to deploy your application with Surge you first need to install the Surge CLI tool:")]),s("pre",{pre:!0,attrs:{class:"doc-code language-bash"}},[s("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-bash"}},[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-g")]),t._v(" surge\n")])]),s("p",[t._v("Next, we will use Quasar CLI to build our app:")]),s("pre",{pre:!0,attrs:{class:"doc-code language-bash"}},[s("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-bash"}},[t._v("$ quasar build\n")])]),s("p",[t._v("Now we can deploy our application using Surge by calling:")]),s("pre",{pre:!0,attrs:{class:"doc-code language-bash"}},[s("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-bash"}},[t._v("$ surge dist/spa\n")])]),s("p",[t._v("Now your application should be successfully deployed using Surge. You should be able to adapt this guide to any other static site deployment tool.")]),s("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"deploying-on-github-pages"},on:{click:function(s){return t.copyHeading("deploying-on-github-pages")}}},[t._v("Deploying on GitHub Pages")]),s("p",[t._v("To deploy your Quasar application to GitHub pages the first step is to create a special repository on GitHub which is named "),s("code",{staticClass:"doc-token"},[t._v("<username>.github.io")]),t._v(". Clone this repository to your local machine.")]),s("p",[t._v("Next, you need to build your Quasar application like it is described in the “General deployment section”. This will result in a "),s("code",{staticClass:"doc-token"},[t._v("/dist/spa")]),t._v(" directory. Copy the content of this folder to your cloned repository.")]),s("p",[t._v("The last step is to add a commit in your repository and push to GitHub. After a short time, you should be able to visit your Quasar application at "),s("code",{staticClass:"doc-token"},[t._v("https://<username>.github.io/")]),t._v(".")]),s("h3",{staticClass:"doc-heading doc-h3",attrs:{id:"adding-a-custom-domain-to-github-pages"},on:{click:function(s){return t.copyHeading("adding-a-custom-domain-to-github-pages")}}},[t._v("Adding a custom domain to GitHub pages")]),s("p",[t._v("Please see the "),s("doc-link",{attrs:{to:"https://help.github.com/articles/using-a-custom-domain-with-github-pages/"}},[t._v("GitHub pages guides")]),t._v(" for an in-depth explanation on how to set up a custom domain.")],1),s("h3",{staticClass:"doc-heading doc-h3",attrs:{id:"automated-deployment-to-github-pages-with-push-dir"},on:{click:function(s){return t.copyHeading("automated-deployment-to-github-pages-with-push-dir")}}},[t._v("Automated deployment to GitHub pages with push-dir")]),s("p",[t._v("Manual copying all your files to your GitHub Pages repository can be a cumbersome task to do. This step can be automated by using the "),s("doc-link",{attrs:{to:"https://github.com/L33T-KR3W/push-dir"}},[t._v("push-dir")]),t._v(" package.")],1),s("p",[t._v("First, install the package with:")]),s("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[s("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[t._v("$ yarn add "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("dev push"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("dir\n")])]),s("p",[t._v("Then add a "),s("code",{staticClass:"doc-token"},[t._v("deploy")]),t._v(" script command to your "),s("code",{staticClass:"doc-token"},[t._v("package.json")]),t._v(":")]),s("pre",{pre:!0,attrs:{class:"doc-code language-json"}},[s("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-json"}},[s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"deploy"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"push-dir --dir=dist/spa --remote=gh-pages --branch=master"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("p",[t._v("Add your GitHub Pages repository as a remote named "),s("code",{staticClass:"doc-token"},[t._v("gh-pages")]),t._v(":")]),s("pre",{pre:!0,attrs:{class:"doc-code language-bash"}},[s("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-bash"}},[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" remote "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" gh-pages git@github.com:"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("username"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("username"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(".github.io.git\n")])]),s("p",[t._v("Now you can build and deploy your application using:")]),s("pre",{pre:!0,attrs:{class:"doc-code language-bash"}},[s("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-bash"}},[t._v("$ quasar build\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" deploy\n")])]),s("p",[t._v("which will push the content of your build directory to your master branch on your GitHub Pages repository.")])])},n=[],o=e("8669"),r={name:"DocMarkdownPage",created:function(){this.metaTitle="Deploying a SPA",this.metaDesc="How to publish a Single Page App built by Quasar CLI.",this.nav=[{name:"Build Commands",category:"Developing SPA",path:"/quasar-cli/developing-spa/build-commands",dir:"left"},{name:"Introduction",category:"Developing SSR",path:"/quasar-cli/developing-ssr/introduction",dir:"right"}],this.toc=[{id:"general-deployment",title:"General deployment"},{id:"important-hosting-configuration",title:"Important Hosting Configuration"},{id:"deploying-with-vercel",title:"Deploying with Vercel"},{id:"vercel-configuration-tips",title:"Vercel configuration tips",sub:!0},{id:"deploying-with-heroku",title:"Deploying with Heroku"},{id:"deploying-with-surge",title:"Deploying with Surge"},{id:"deploying-on-github-pages",title:"Deploying on GitHub Pages"},{id:"adding-a-custom-domain-to-github-pages",title:"Adding a custom domain to GitHub pages",sub:!0},{id:"automated-deployment-to-github-pages-with-push-dir",title:"Automated deployment to GitHub pages with push-dir",sub:!0}],this.copyHeading=o["a"]}},p=r,c=e("2877"),i=Object(c["a"])(p,a,n,!1,null,null,null);s["default"]=i.exports}}]);