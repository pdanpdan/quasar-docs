(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[110],{"73f2":function(t,a,s){"use strict";s.r(a);var n=function(){var t=this,a=t._self._c;return a("doc-page",{attrs:{"meta-title":t.metaTitle,title:"Managing Google Analytics",nav:t.nav,toc:t.toc,"meta-desc":t.metaDesc}},[a("p",[t._v("Getting to know your users and measuring user behavior is an important step in App Development. Unfortunately, it takes a bit of non-standard work to get Google Analytics to work after wrapping your mobile app with Cordova. Setting up Google Analytics in a pure web application is quite easy, but Cordova somehow prevents pageviews and events from being sent to Google Analytics.")]),a("p",[t._v("Follow this guide to implement Google Analytics into your Cordova powered Quasar App.")]),a("p",[t._v("You may also want to read these great tutorials:")]),a("ul",[a("li",[a("doc-link",{attrs:{to:"https://jannerantala.com/tutorials/quasar-framework-google-tag-manager-and-analytics-setup-for-an-spa-website/"}},[t._v("Google Tag Manager and Analytics Setup for an SPA Website")])],1),a("li",[a("doc-link",{attrs:{to:"https://jannerantala.com/tutorials/quasar-framework-google-analytics-setup-for-cordova-app/"}},[t._v("Google Analytics Setup for a Cordova App")])],1)]),a("div",{staticClass:"doc-note doc-note--warning"},[a("p",{staticClass:"doc-note__title"},[t._v("WARNING")]),a("p",[t._v("You’ll need to include a "),a("code",{staticClass:"doc-token"},[t._v("<script>")]),t._v(" tag provided by Google in "),a("code",{staticClass:"doc-token"},[t._v("/src/index.template.html")]),t._v(", which will make your App depend on an Internet connection!")])]),a("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"prerequisites"},on:{click:function(a){return t.copyHeading("prerequisites")}}},[t._v("Prerequisites")]),a("ul",[a("li",[t._v("Make sure all your routes have a name and path parameter specified. Otherwise, they cannot be posted to the "),a("code",{staticClass:"doc-token"},[t._v("ga.logPage")]),t._v(" function. Please refer to "),a("doc-link",{attrs:{to:"/quasar-cli/routing"}},[t._v("Routing")]),t._v(" for more info on routing.")],1),a("li",[t._v("Have Basic knowledge of Google Analytics")])]),a("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"preparation"},on:{click:function(a){return t.copyHeading("preparation")}}},[t._v("Preparation")]),a("p",[t._v("Before we can start implementing Google Analytics into your application, you’ll need an account for "),a("doc-link",{attrs:{to:"https://analytics.google.com"}},[t._v("Google Analytics")]),t._v(" and "),a("doc-link",{attrs:{to:"https://tagmanager.google.com/"}},[t._v("Google Tagmanager")]),t._v(". So let’s do that first. When you have these accounts, it’s time to configure Tag manager. Follow the steps in this "),a("doc-link",{attrs:{to:"https://www.multiminds.eu/blog/2016/12/google-analytics-and-tag-manager-with-ionic-and-cordova-apps/"}},[t._v("Multiminds article")]),t._v(" to do so.")],1),a("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"implementing-this-into-application"},on:{click:function(a){return t.copyHeading("implementing-this-into-application")}}},[t._v("Implementing this into application")]),a("blockquote",{staticClass:"doc-note"},[a("p",[t._v("For this guide, we’ll assume you have a fixed sessionId that you send to Google Analytics. Google Analytics uses a sessionId to distinguish different users from each other. If you want to create an anonymous sessionId, see "),a("doc-link",{attrs:{to:"https://developers.google.com/analytics/devguides/collection/analyticsjs/cookies-user-id"}},[t._v("Analytics Documentation on user id")]),t._v(".")],1)]),a("p",[t._v("Place the Tag Manager snippet into head of your "),a("code",{staticClass:"doc-token"},[t._v("index.html")]),t._v(" file (if you’ve followed the "),a("doc-link",{attrs:{to:"http://www.multiminds.eu/2016/12/06/google-analytics-tag-manager-ionic-cordova/"}},[t._v("Multiminds article")]),t._v(", you already have this.) Create a new file in your codebase called "),a("code",{staticClass:"doc-token"},[t._v("analytics.js")]),t._v(" with the following contents:")],1),a("pre",{pre:!0,attrs:{class:"doc-code language-javascript"}},[a("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-javascript"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("logEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("category"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" action"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" label"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sessionId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dataLayer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("appEventCategory")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" category"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("appEventAction")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" action"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("appEventLabel")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" label"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("sessionId")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" sessionId\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dataLayer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'event'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'appEvent'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("logPage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sessionId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dataLayer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("screenPath")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("screenName")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("sessionId")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" sessionId\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dataLayer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'event'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'appScreenView'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("p",[t._v("To make sure all the pages in your application are automatically posted to Google Analytics, we create an app boot file:")]),a("pre",{pre:!0,attrs:{class:"doc-code language-bash"}},[a("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-bash"}},[t._v("$ quasar new boot google-analytics "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("--format ts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),a("p",[t._v("Then we edit the newly created file: "),a("code",{staticClass:"doc-token"},[t._v("/src/boot/google-analytics.js")]),t._v(":")]),a("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[a("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" ga "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'analytics.js'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" router "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  router"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("afterEach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    ga"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("logPage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sessionId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("p",[t._v("Finally we register the app boot file in "),a("code",{staticClass:"doc-token"},[t._v("/quasar.conf.js")]),t._v(". We can do so only for Cordova wrapped apps if we want:")]),a("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[a("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("boot")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cordova "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'google-analytics'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),a("p",[t._v("More information about events can be found in the "),a("doc-link",{attrs:{to:"https://developers.google.com/analytics/devguides/collection/analyticsjs/events"}},[t._v("Analytics documentation on events")]),t._v(".")],1),a("p",[t._v("You’ll see the events and pageviews coming in when you run your app. It usually takes around 5 to 10 seconds for a pageview to be registered in the realtime view.")])])},e=[],o=s("8669"),r={name:"DocMarkdownPage",created:function(){this.metaTitle="Managing Google Analytics",this.metaDesc="How to use analytics in a Quasar hybrid mobile app with Cordova.",this.nav=[{name:"Troubleshooting and Tips",category:"Developing Cordova Apps",path:"/quasar-cli/developing-cordova-apps/troubleshooting-and-tips",dir:"left"},{name:"Publishing to Store",category:"Developing Cordova Apps",path:"/quasar-cli/developing-cordova-apps/publishing-to-store",dir:"right"}],this.toc=[{id:"prerequisites",title:"Prerequisites"},{id:"preparation",title:"Preparation"},{id:"implementing-this-into-application",title:"Implementing this into application"}],this.copyHeading=o["a"]}},p=r,c=s("2877"),i=Object(c["a"])(p,n,e,!1,null,null,null);a["default"]=i.exports}}]);